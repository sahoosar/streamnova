# Loaded by application-postgres.properties. With postgres,oracle profiles both this and oracle_pipeline_config merge (sources.postgres + sources.oracle).
pipeline:
  config:
    defaultSource: postgres
    sources:
      postgres:
        type: postgres
        driver: org.postgresql.Driver
        jdbcUrl: jdbc:postgresql://localhost:5432/marketdb
        username: saroj
        password: admin
        table: market_summary
        maxColumns: 0
        fetchSize: 5000
        fetchFactor: 1.0
        maximumPoolSize: 8
        fallbackPoolSize: 8
        minimumIdle: 2
        idleTimeout: 300000
        connectionTimeout: 300000
        maxLifetime: 1800000
        enableProgressLogging: true
        # When running with a candidate (execute using a recommendation), shards/workers/machineType/pool are overridden by the candidate; these are used only when no candidate is provided.
        shards: 0
        workers: 1
        defaultBytesPerRow: 1KB

    intermediate:
      dataFormat: parquet
      gcsPath: gs://my-bucket/stage/employees/
    target:
      type: bigquery
      dataset: my_dataset
      table: employees
      schemaPath: gs://my-bucket/schemas/employees_schema.json
      loadMode: load_from_gcs
      sourceFormat: PARQUET
      writeDisposition: WRITE_APPEND
