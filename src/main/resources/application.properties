spring.application.name=StreamNova

# ============================================================================
# Pipeline profile (choose DB type and environment)
# ============================================================================
# Single DB: postgres (default) | oracle | postgres-sit | oracle-uat | etc.
# Both DBs:  postgres, oracle  (invokes application-postgres + application-oracle; datasources created in parallel)
# Example: --spring.profiles.active=postgres,oracle  when streamnova.statistics.supported-source-types=postgres, oracle
spring.profiles.active=postgres

# Where to change connection/config per DB and environment:
#   Postgres dev:     application-postgres.properties + postgre_pipeline_config.yml
#   Postgres SIT:     application-postgres-sit.properties (overrides jdbc-url, user, password, table)
#   Postgres UAT:     application-postgres-uat.properties
#   Postgres PROD:    application-postgres-prod.properties
#   Oracle dev:       application-oracle.properties + oracle_pipeline_config.yml
#   Oracle SIT:       application-oracle-sit.properties
#   Oracle UAT:       application-oracle-uat.properties
#   Oracle PROD:      application-oracle-prod.properties
# Shared defaults (pool, sharding, fetch size, etc.): postgre_pipeline_config.yml / oracle_pipeline_config.yml
# Password: no hardcoded passwords. Set POSTGRES_PASSWORD / ORACLE_PASSWORD env vars; pipeline YAML uses ${POSTGRES_PASSWORD}. streamnova.pipeline.config-file is required (no in-memory config).

# Context path (e.g. when behind a proxy at /streamnova). Use /api/pipeline/table-statistics without this prefix when context-path is empty.
server.servlet.context-path=/streamnova

# Disable DevTools property-defaults log message (optional)
spring.devtools.add-properties=false

# ============================================================================
# Actuator Configuration - Metrics & Monitoring
# ============================================================================
# Enable Actuator endpoints
management.endpoints.web.exposure.include=health,info,metrics,prometheus
management.endpoint.health.show-details=when-authorized
management.endpoint.metrics.enabled=true
management.endpoint.prometheus.enabled=true

# Metrics configuration
management.metrics.export.prometheus.enabled=true
management.metrics.distribution.percentiles-histogram.http.server.requests=true
management.metrics.distribution.sla.http.server.requests=100ms,500ms,1s,2s,5s

# ============================================================================
# Logging Configuration
# ============================================================================
# Root logger
logging.level.root=INFO

# Your package logs (debug if you want more)
logging.level.com.di.streamnova=INFO

# Named loggers used in your helpers
logging.level.DLQ=INFO
logging.level.VALID=INFO

# Comma-separated source types for table statistics and startup datasource creation (e.g. postgres, oracle).
# When set to "postgres, oracle" use spring.profiles.active=postgres,oracle so application-postgres.properties
# and application-oracle.properties are both invoked; configs merge and datasources are created in parallel at startup.
# Use ?source=postgres or ?source=oracle in /api/pipeline/table-statistics and /api/pipeline/config.
streamnova.statistics.supported-source-types=postgres,oracle